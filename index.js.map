{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export const querySearch = searchValue => {\n  return fetch(\n    `https://pixabay.com/api/?key=48370446-8dcf2f9524038c25db09fe77e&q=${searchValue}&image_type=photo&orientation=horizontal&safesearch=true&per_page=30`\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    // console.log(\n    //   response.json().then(res => {\n    //     console.log(res.hits);\n    //   })\n    // );\n    return response.json();\n  });\n};\n","export const createMarkUp = imgINfo => {\n  return `<a class='query-image-big' href=\"${imgINfo.largeImageURL}\">\n  <li>\n    <img class='query-image' src=\"${imgINfo.webformatURL}\" alt=\"${imgINfo.tags}\" />  \n    <ul class=\"gallery-details\">\n      <li class=\"gallery-details-section\">\n        <h3 class=\"gallery-details-heading\">Likes</h3>\n        <p class=\"gallery-details-text\">${imgINfo.likes}</p>\n      </li>\n      <li>\n        <h3 class=\"gallery-details-heading\">Views</h3>\n        <p class=\"gallery-details-text\">${imgINfo.views}</p>\n      </li>\n      <li>\n        <h3 class=\"gallery-details-heading\">Comments</h3>\n        <p class=\"gallery-details-text\">${imgINfo.comments}</p>\n      </li>\n      <li>\n        <h3 class=\"gallery-details-heading\">Downloads</h3>\n        <p class=\"gallery-details-text\">${imgINfo.downloads}</p>\n      </li>\n    </ul>\n  </li>\n</a>`;\n};\n","import { querySearch } from './js/pixabay-api';\nimport { createMarkUp } from './js/render-functions';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\n//get the elements from page\nconst searchFormEl = document.querySelector('.js-search-form');\nconst gallery = document.querySelector('.js-gallery');\nconst loader = document.querySelector('.loader');\nconst loaderText = document.querySelector('.js-loading-indicator');\n//the event of submited form\nconst onSearchFormSumbit = event => {\n  event.preventDefault();\n  //check the entered value\n  const searchedQuery = event.currentTarget.elements.user_query.value.trim();\n\n  if (searchedQuery === '') {\n    iziToast.show({\n      message: 'Input has to be filled!',\n      color: 'red',\n      position: 'bottomLeft',\n    });\n    return;\n  }\n  //show the loading sign\n  loader.style.display = 'block';\n  loaderText.style.display = 'block';\n  //start the search of the query\n  querySearch(searchedQuery)\n    .then(result => {\n      gallery.innerHTML = '';\n\n      loader.style.display = 'none';\n      loaderText.style.display = 'none';\n\n      if (result.total === 0) {\n        iziToast.show({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          color: 'red',\n          position: 'bottomLeft',\n        });\n      }\n\n      // reload the gallery\n      const galleryTemplate = result.hits.map(el => createMarkUp(el)).join('');\n      gallery.innerHTML = galleryTemplate;\n\n      searchFormEl.reset();\n\n      lightbox.refresh();\n    })\n    .catch(error => {\n      loader.style.display = 'none';\n\n      console.log(error);\n    });\n};\n\nsearchFormEl.addEventListener('submit', onSearchFormSumbit);\n\nlet lightbox = new SimpleLightbox('.query-image-big', {\n  captions: true,\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n"],"names":["querySearch","searchValue","response","createMarkUp","imgINfo","searchFormEl","gallery","loader","loaderText","onSearchFormSumbit","event","searchedQuery","iziToast","result","galleryTemplate","el","lightbox","error","SimpleLightbox"],"mappings":"6vBAAO,MAAMA,EAAcC,GAClB,MACL,qEAAqEA,CAAW,sEACpF,EAAI,KAAKC,GAAY,CACjB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAOjC,OAAOA,EAAS,MACpB,CAAG,ECbUC,EAAeC,GACnB,oCAAoCA,EAAQ,aAAa;AAAA;AAAA,oCAE9BA,EAAQ,YAAY,UAAUA,EAAQ,IAAI;AAAA;AAAA;AAAA;AAAA,0CAIpCA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,0CAIbA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,0CAIbA,EAAQ,QAAQ;AAAA;AAAA;AAAA;AAAA,0CAIhBA,EAAQ,SAAS;AAAA;AAAA;AAAA;AAAA,MCTrDC,EAAe,SAAS,cAAc,iBAAiB,EACvDC,EAAU,SAAS,cAAc,aAAa,EAC9CC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAa,SAAS,cAAc,uBAAuB,EAE3DC,EAAqBC,GAAS,CAClCA,EAAM,eAAc,EAEpB,MAAMC,EAAgBD,EAAM,cAAc,SAAS,WAAW,MAAM,OAEpE,GAAIC,IAAkB,GAAI,CACxBC,EAAS,KAAK,CACZ,QAAS,0BACT,MAAO,MACP,SAAU,YAChB,CAAK,EACD,MACD,CAEDL,EAAO,MAAM,QAAU,QACvBC,EAAW,MAAM,QAAU,QAE3BR,EAAYW,CAAa,EACtB,KAAKE,GAAU,CACdP,EAAQ,UAAY,GAEpBC,EAAO,MAAM,QAAU,OACvBC,EAAW,MAAM,QAAU,OAEvBK,EAAO,QAAU,GACnBD,EAAS,KAAK,CACZ,QACE,2EACF,MAAO,MACP,SAAU,YACpB,CAAS,EAIH,MAAME,EAAkBD,EAAO,KAAK,IAAIE,GAAMZ,EAAaY,CAAE,CAAC,EAAE,KAAK,EAAE,EACvET,EAAQ,UAAYQ,EAEpBT,EAAa,MAAK,EAElBW,EAAS,QAAO,CACtB,CAAK,EACA,MAAMC,GAAS,CACdV,EAAO,MAAM,QAAU,OAEvB,QAAQ,IAAIU,CAAK,CACvB,CAAK,CACL,EAEAZ,EAAa,iBAAiB,SAAUI,CAAkB,EAE1D,IAAIO,EAAW,IAAIE,EAAe,mBAAoB,CACpD,SAAU,GACV,aAAc,MACd,aAAc,GAChB,CAAC"}